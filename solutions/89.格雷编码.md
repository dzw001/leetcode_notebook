### 题目链接
https://leetcode-cn.com/problems/gray-code/

### 题目描述
题目难度：```中等```

**n 位格雷码序列** 是一个由 ```2n``` 个整数组成的序列，其中：
- 每个整数都在范围 ```[0, 2n - 1]``` 内（含 ```0``` 和 ```2n - 1```）
- 第一个整数是 ```0``
- 一个整数在序列中出现 **不超过一次**
- 每对 **相邻** 整数的二进制表示 **恰好一位不同** ，且
- **第一个** 和 **最后一个** 整数的二进制表示 **恰好一位不同**
给你一个整数 ```n``` ，返回任一有效的 **n 位格雷码序列** 。

### 解题思路
先来考虑 ```n = 2``` 时，一个可行的 **2 位格雷编码**（这里用二进制表示）为 ```[00, 01, 11, 10]``` ，如果要找出一个 ```n = 3``` 时的格雷编码：

1. 如果我们将每一个二进制数前面都加上一个 0 ，则得到 ```a = [000, 001, 011, 010]``` ，若都加上 1 ，则得到 ```b = [100, 101, 111, 110]``` 。显然 ```a``` 和 ```b``` 两个列表是都符合 *每对 **相邻** 整数的二进制表示 **恰好一位不同*** 这一条件的，那么自然地，如果将 ```a``` 或 ```b``` 逆序，也是符合上述条件的。
2. 同时又能发现 ```a[-1]``` 和 ```b[-1]``` 之间、 ```a[0]``` 和 ```b[0]``` 之间也都是满足 *恰好一位不同* 的条件的。
3. 综上，若是把 ```b``` 逆序后拼接到 ```a``` 的后面，则得到 ```[000, 001, 011, 010, 110, 111, 101, 100]``` ，即为一个满足所有条件的 **3 位格雷编码*** 。

**总结：** 若已知一个由二进制数的列表 ```nums``` 表示的 **n 位格雷编码** ，则通过下述操作即可得到一个 **(n + 1) 位格雷编码**：

1. 在 ```nums``` 中的每个元素前面都新增一位 0 ，得到列表 ```a``` ；在 ```nums``` 中的每个元素前面新增一位 1 ，得到列表 ```b``` ；
2. 将 ```b``` 逆序后拼接在 ```a``` 的后面，即可得到一个 **(n + 1) 位格雷编码** 。

显然 ```[0, 1]``` 是一个 **1 位格雷编码** ，只要以此为起点，不断迭代，便可得到任意位的格雷编码。

```python
# Python3
# Author: duzhenwei
class Solution:
    def grayCode(self, n: int) -> List[int]:
        res = [0, 1]
        for i in range(1, n):
            length = len(res)
            for j in range(length - 1, -1, -1):
                res.append(res[j] + 2 ** i)
        return res
```